{"version":3,"file":"view_builder.js","sourceRoot":"","sources":["../../../../../modules/@angular/compiler/src/view_compiler/view_builder.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ViewEncapsulation} from '@angular/core/index';\n\nimport {CompileDirectiveMetadata, CompileDirectiveSummary, CompileIdentifierMetadata, CompileTokenMetadata, identifierModuleUrl, identifierName} from '../compile_metadata';\nimport {createSharedBindingVariablesIfNeeded} from '../compiler_util/expression_converter';\nimport {createDiTokenExpression, createInlineArray} from '../compiler_util/identifier_util';\nimport {isPresent} from '../facade/lang';\nimport {Identifiers, createIdentifier, identifierToken} from '../identifiers';\nimport {createClassStmt} from '../output/class_builder';\nimport * as o from '../output/output_ast';\nimport {ParseSourceSpan} from '../parse_util';\nimport {ChangeDetectorStatus, ViewType, isDefaultChangeDetectionStrategy} from '../private_import_core';\nimport {AttrAst, BoundDirectivePropertyAst, BoundElementPropertyAst, BoundEventAst, BoundTextAst, DirectiveAst, ElementAst, EmbeddedTemplateAst, NgContentAst, ReferenceAst, TemplateAst, TemplateAstVisitor, TextAst, VariableAst, templateVisitAll} from '../template_parser/template_ast';\n\nimport {CompileElement, CompileNode} from './compile_element';\nimport {CompileView, CompileViewRootNode, CompileViewRootNodeType} from './compile_view';\nimport {ChangeDetectorStatusEnum, DetectChangesVars, InjectMethodVars, ViewConstructorVars, ViewEncapsulationEnum, ViewProperties, ViewTypeEnum} from './constants';\nimport {ComponentFactoryDependency, DirectiveWrapperDependency, ViewClassDependency} from './deps';\nimport {getViewClassName} from './util';\n\nconst /** @type {?} */ IMPLICIT_TEMPLATE_VAR = '\\$implicit';\nconst /** @type {?} */ CLASS_ATTR = 'class';\nconst /** @type {?} */ STYLE_ATTR = 'style';\nconst /** @type {?} */ NG_CONTAINER_TAG = 'ng-container';\n\nconst /** @type {?} */ parentRenderNodeVar = o.variable('parentRenderNode');\nconst /** @type {?} */ rootSelectorVar = o.variable('rootSelector');\n/**\n * @param {?} view\n * @param {?} template\n * @param {?} targetDependencies\n * @return {?}\n */\nexport function buildView(\n    view: CompileView, template: TemplateAst[],\n    targetDependencies:\n        Array<ViewClassDependency|ComponentFactoryDependency|DirectiveWrapperDependency>): number {\n  const /** @type {?} */ builderVisitor = new ViewBuilderVisitor(view, targetDependencies);\n  const /** @type {?} */ parentEl =\n      view.declarationElement.isNull() ? view.declarationElement : view.declarationElement.parent;\n  templateVisitAll(builderVisitor, template, parentEl);\n  if (view.viewType === ViewType.EMBEDDED || view.viewType === ViewType.HOST) {\n    view.lastRenderNode = builderVisitor.getOrCreateLastRenderNode();\n  }\n  return builderVisitor.nestedViewCount;\n}\n/**\n * @param {?} view\n * @param {?} targetStatements\n * @return {?}\n */\nexport function finishView(view: CompileView, targetStatements: o.Statement[]) {\n  view.afterNodes();\n  createViewTopLevelStmts(view, targetStatements);\n  view.nodes.forEach((node) => {\n    if (node instanceof CompileElement && node.hasEmbeddedView) {\n      finishView(node.embeddedView, targetStatements);\n    }\n  });\n}\nclass ViewBuilderVisitor implements TemplateAstVisitor {\n  nestedViewCount: number = 0;\n/**\n * @param {?} view\n * @param {?} targetDependencies\n */\nconstructor(\npublic view: CompileView,\npublic targetDependencies:\n          Array<ViewClassDependency|ComponentFactoryDependency|DirectiveWrapperDependency>) {}\n/**\n * @param {?} parent\n * @return {?}\n */\nprivate _isRootNode(parent: CompileElement): boolean { return parent.view !== this.view; }\n/**\n * @param {?} node\n * @return {?}\n */\nprivate _addRootNodeAndProject(node: CompileNode) {\n    const /** @type {?} */ projectedNode = _getOuterContainerOrSelf(node);\n    const /** @type {?} */ parent = projectedNode.parent;\n    const /** @type {?} */ ngContentIndex = ( /** @type {?} */((<any>projectedNode.sourceAst))).ngContentIndex;\n    const /** @type {?} */ viewContainer =\n        (node instanceof CompileElement && node.hasViewContainer) ? node.viewContainer : null;\n    if (this._isRootNode(parent)) {\n      if (this.view.viewType !== ViewType.COMPONENT) {\n        this.view.rootNodes.push(new CompileViewRootNode(\n            viewContainer ? CompileViewRootNodeType.ViewContainer : CompileViewRootNodeType.Node,\n            viewContainer || node.renderNode));\n      }\n    } else if (isPresent(parent.component) && isPresent(ngContentIndex)) {\n      parent.addContentNode(\n          ngContentIndex,\n          new CompileViewRootNode(\n              viewContainer ? CompileViewRootNodeType.ViewContainer : CompileViewRootNodeType.Node,\n              viewContainer || node.renderNode));\n    }\n  }\n/**\n * @param {?} parent\n * @return {?}\n */\nprivate _getParentRenderNode(parent: CompileElement): o.Expression {\n    parent = _getOuterContainerParentOrSelf(parent);\n    if (this._isRootNode(parent)) {\n      if (this.view.viewType === ViewType.COMPONENT) {\n        return parentRenderNodeVar;\n      } else {\n        // root node of an embedded/host view\n        return o.NULL_EXPR;\n      }\n    } else {\n      return isPresent(parent.component) &&\n              parent.component.template.encapsulation !== ViewEncapsulation.Native ?\n          o.NULL_EXPR :\n          parent.renderNode;\n    }\n  }\n/**\n * @return {?}\n */\ngetOrCreateLastRenderNode(): o.Expression {\n    const /** @type {?} */ view = this.view;\n    if (view.rootNodes.length === 0 ||\n        view.rootNodes[view.rootNodes.length - 1].type !== CompileViewRootNodeType.Node) {\n      const /** @type {?} */ fieldName = `_el_${view.nodes.length}`;\n      view.fields.push(\n          new o.ClassField(fieldName, o.importType(view.genConfig.renderTypes.renderElement)));\n      view.createMethod.addStmt(o.THIS_EXPR.prop(fieldName)\n                                    .set(ViewProperties.renderer.callMethod(\n                                        'createTemplateAnchor', [o.NULL_EXPR, o.NULL_EXPR]))\n                                    .toStmt());\n      view.rootNodes.push(\n          new CompileViewRootNode(CompileViewRootNodeType.Node, o.THIS_EXPR.prop(fieldName)));\n    }\n    return view.rootNodes[view.rootNodes.length - 1].expr;\n  }\n/**\n * @param {?} ast\n * @param {?} parent\n * @return {?}\n */\nvisitBoundText(ast: BoundTextAst, parent: CompileElement): any {\n    return this._visitText(ast, '', parent);\n  }\n/**\n * @param {?} ast\n * @param {?} parent\n * @return {?}\n */\nvisitText(ast: TextAst, parent: CompileElement): any {\n    return this._visitText(ast, ast.value, parent);\n  }\n/**\n * @param {?} ast\n * @param {?} value\n * @param {?} parent\n * @return {?}\n */\nprivate _visitText(ast: TemplateAst, value: string, parent: CompileElement): o.Expression {\n    const /** @type {?} */ fieldName = `_text_${this.view.nodes.length}`;\n    this.view.fields.push(\n        new o.ClassField(fieldName, o.importType(this.view.genConfig.renderTypes.renderText)));\n    const /** @type {?} */ renderNode = o.THIS_EXPR.prop(fieldName);\n    const /** @type {?} */ compileNode = new CompileNode(parent, this.view, this.view.nodes.length, renderNode, ast);\n    const /** @type {?} */ createRenderNode =\n        o.THIS_EXPR.prop(fieldName)\n            .set(ViewProperties.renderer.callMethod(\n                'createText',\n                [\n                  this._getParentRenderNode(parent), o.literal(value),\n                  this.view.createMethod.resetDebugInfoExpr(this.view.nodes.length, ast)\n                ]))\n            .toStmt();\n    this.view.nodes.push(compileNode);\n    this.view.createMethod.addStmt(createRenderNode);\n    this._addRootNodeAndProject(compileNode);\n    return renderNode;\n  }\n/**\n * @param {?} ast\n * @param {?} parent\n * @return {?}\n */\nvisitNgContent(ast: NgContentAst, parent: CompileElement): any {\n    // the projected nodes originate from a different view, so we don't\n    // have debug information for them...\n    this.view.createMethod.resetDebugInfo(null, ast);\n    const /** @type {?} */ parentRenderNode = this._getParentRenderNode(parent);\n    if (parentRenderNode !== o.NULL_EXPR) {\n      this.view.createMethod.addStmt(\n          o.THIS_EXPR.callMethod('projectNodes', [parentRenderNode, o.literal(ast.index)])\n              .toStmt());\n    } else if (this._isRootNode(parent)) {\n      if (this.view.viewType !== ViewType.COMPONENT) {\n        // store root nodes only for embedded/host views\n        this.view.rootNodes.push(\n            new CompileViewRootNode(CompileViewRootNodeType.NgContent, null, ast.index));\n      }\n    } else {\n      if (isPresent(parent.component) && isPresent(ast.ngContentIndex)) {\n        parent.addContentNode(\n            ast.ngContentIndex,\n            new CompileViewRootNode(CompileViewRootNodeType.NgContent, null, ast.index));\n      }\n    }\n    return null;\n  }\n/**\n * @param {?} ast\n * @param {?} parent\n * @return {?}\n */\nvisitElement(ast: ElementAst, parent: CompileElement): any {\n    const /** @type {?} */ nodeIndex = this.view.nodes.length;\n    let /** @type {?} */ createRenderNodeExpr: o.Expression;\n    const /** @type {?} */ debugContextExpr = this.view.createMethod.resetDebugInfoExpr(nodeIndex, ast);\n    const /** @type {?} */ directives = ast.directives.map(directiveAst => directiveAst.directive);\n    const /** @type {?} */ component = directives.find(directive => directive.isComponent);\n    if (ast.name === NG_CONTAINER_TAG) {\n      createRenderNodeExpr = ViewProperties.renderer.callMethod(\n          'createTemplateAnchor', [this._getParentRenderNode(parent), debugContextExpr]);\n    } else {\n      const /** @type {?} */ htmlAttrs = _readHtmlAttrs(ast.attrs);\n      const /** @type {?} */ attrNameAndValues = createInlineArray(\n          _mergeHtmlAndDirectiveAttrs(htmlAttrs, directives).map(v => o.literal(v)));\n      if (nodeIndex === 0 && this.view.viewType === ViewType.HOST) {\n        createRenderNodeExpr =\n            o.importExpr(createIdentifier(Identifiers.selectOrCreateRenderHostElement)).callFn([\n              ViewProperties.renderer, o.literal(ast.name), attrNameAndValues, rootSelectorVar,\n              debugContextExpr\n            ]);\n      } else {\n        createRenderNodeExpr =\n            o.importExpr(createIdentifier(Identifiers.createRenderElement)).callFn([\n              ViewProperties.renderer, this._getParentRenderNode(parent), o.literal(ast.name),\n              attrNameAndValues, debugContextExpr\n            ]);\n      }\n    }\n    const /** @type {?} */ fieldName = `_el_${nodeIndex}`;\n    this.view.fields.push(\n        new o.ClassField(fieldName, o.importType(this.view.genConfig.renderTypes.renderElement)));\n    this.view.createMethod.addStmt(o.THIS_EXPR.prop(fieldName).set(createRenderNodeExpr).toStmt());\n\n    const /** @type {?} */ renderNode = o.THIS_EXPR.prop(fieldName);\n\n    const /** @type {?} */ compileElement = new CompileElement(\n        parent, this.view, nodeIndex, renderNode, ast, component, directives, ast.providers,\n        ast.hasViewContainer, false, ast.references);\n    this.view.nodes.push(compileElement);\n    let /** @type {?} */ compViewExpr: o.ReadPropExpr = null;\n    if (isPresent(component)) {\n      const /** @type {?} */ nestedComponentIdentifier: CompileIdentifierMetadata = {reference: null};\n      this.targetDependencies.push(new ViewClassDependency(\n          component.type, getViewClassName(component, 0), nestedComponentIdentifier));\n\n      compViewExpr = o.THIS_EXPR.prop(`compView_${nodeIndex}`);  // fix highlighting: `\n      this.view.fields.push(new o.ClassField(\n          compViewExpr.name,\n          o.importType(createIdentifier(Identifiers.AppView), [o.importType(component.type)])));\n      this.view.viewChildren.push(compViewExpr);\n      compileElement.setComponentView(compViewExpr);\n      this.view.createMethod.addStmt(\n          compViewExpr\n              .set(o.importExpr(nestedComponentIdentifier).instantiate([\n                ViewProperties.viewUtils, o.THIS_EXPR, o.literal(nodeIndex), renderNode\n              ]))\n              .toStmt());\n    }\n    compileElement.beforeChildren();\n    this._addRootNodeAndProject(compileElement);\n    templateVisitAll(this, ast.children, compileElement);\n    compileElement.afterChildren(this.view.nodes.length - nodeIndex - 1);\n\n    if (isPresent(compViewExpr)) {\n      this.view.createMethod.addStmt(\n          compViewExpr.callMethod('create', [compileElement.getComponent()]).toStmt());\n    }\n    return null;\n  }\n/**\n * @param {?} ast\n * @param {?} parent\n * @return {?}\n */\nvisitEmbeddedTemplate(ast: EmbeddedTemplateAst, parent: CompileElement): any {\n    const /** @type {?} */ nodeIndex = this.view.nodes.length;\n    const /** @type {?} */ fieldName = `_anchor_${nodeIndex}`;\n    this.view.fields.push(\n        new o.ClassField(fieldName, o.importType(this.view.genConfig.renderTypes.renderComment)));\n    this.view.createMethod.addStmt(\n        o.THIS_EXPR.prop(fieldName)\n            .set(ViewProperties.renderer.callMethod(\n                'createTemplateAnchor',\n                [\n                  this._getParentRenderNode(parent),\n                  this.view.createMethod.resetDebugInfoExpr(nodeIndex, ast)\n                ]))\n            .toStmt());\n    const /** @type {?} */ renderNode = o.THIS_EXPR.prop(fieldName);\n\n    const /** @type {?} */ templateVariableBindings = ast.variables.map(\n        varAst => [varAst.value.length > 0 ? varAst.value : IMPLICIT_TEMPLATE_VAR, varAst.name]);\n\n    const /** @type {?} */ directives = ast.directives.map(directiveAst => directiveAst.directive);\n    const /** @type {?} */ compileElement = new CompileElement(\n        parent, this.view, nodeIndex, renderNode, ast, null, directives, ast.providers,\n        ast.hasViewContainer, true, ast.references);\n    this.view.nodes.push(compileElement);\n\n    this.nestedViewCount++;\n    const /** @type {?} */ embeddedView = new CompileView(\n        this.view.component, this.view.genConfig, this.view.pipeMetas, o.NULL_EXPR,\n        this.view.animations, this.view.viewIndex + this.nestedViewCount, compileElement,\n        templateVariableBindings, this.targetDependencies);\n    this.nestedViewCount += buildView(embeddedView, ast.children, this.targetDependencies);\n\n    compileElement.beforeChildren();\n    this._addRootNodeAndProject(compileElement);\n    compileElement.afterChildren(0);\n\n    return null;\n  }\n/**\n * @param {?} ast\n * @param {?} ctx\n * @return {?}\n */\nvisitAttr(ast: AttrAst, ctx: any): any { return null; }\n/**\n * @param {?} ast\n * @param {?} ctx\n * @return {?}\n */\nvisitDirective(ast: DirectiveAst, ctx: any): any { return null; }\n/**\n * @param {?} ast\n * @param {?} eventTargetAndNames\n * @return {?}\n */\nvisitEvent(ast: BoundEventAst, eventTargetAndNames: Map<string, BoundEventAst>): any {\n    return null;\n  }\n/**\n * @param {?} ast\n * @param {?} ctx\n * @return {?}\n */\nvisitReference(ast: ReferenceAst, ctx: any): any { return null; }\n/**\n * @param {?} ast\n * @param {?} ctx\n * @return {?}\n */\nvisitVariable(ast: VariableAst, ctx: any): any { return null; }\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitDirectiveProperty(ast: BoundDirectivePropertyAst, context: any): any { return null; }\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitElementProperty(ast: BoundElementPropertyAst, context: any): any { return null; }\n}\n\nfunction ViewBuilderVisitor_tsickle_Closure_declarations() {\n/** @type {?} */\nViewBuilderVisitor.prototype.nestedViewCount;\n/** @type {?} */\nViewBuilderVisitor.prototype.view;\n/** @type {?} */\nViewBuilderVisitor.prototype.targetDependencies;\n}\n\n/**\n * Walks up the nodes while the direct parent is a container.\n * \n * Returns the outer container or the node itself when it is not a direct child of a container.\n * \n * @param {?} node\n * @return {?}\n */\nfunction _getOuterContainerOrSelf(node: CompileNode): CompileNode {\n  const /** @type {?} */ view = node.view;\n\n  while (_isNgContainer(node.parent, view)) {\n    node = node.parent;\n  }\n\n  return node;\n}\n/**\n * Walks up the nodes while they are container and returns the first parent which is not.\n * \n * Returns the parent of the outer container or the node itself when it is not a container.\n * \n * @param {?} el\n * @return {?}\n */\nfunction _getOuterContainerParentOrSelf(el: CompileElement): CompileElement {\n  const /** @type {?} */ view = el.view;\n\n  while (_isNgContainer(el, view)) {\n    el = el.parent;\n  }\n\n  return el;\n}\n/**\n * @param {?} node\n * @param {?} view\n * @return {?}\n */\nfunction _isNgContainer(node: CompileNode, view: CompileView): boolean {\n  return !node.isNull() && ( /** @type {?} */((<ElementAst>node.sourceAst))).name === NG_CONTAINER_TAG &&\n      node.view === view;\n}\n/**\n * @param {?} declaredHtmlAttrs\n * @param {?} directives\n * @return {?}\n */\nfunction _mergeHtmlAndDirectiveAttrs(\n    declaredHtmlAttrs: {[key: string]: string}, directives: CompileDirectiveSummary[]): string[] {\n  const /** @type {?} */ mapResult: {[key: string]: string} = {};\n  Object.keys(declaredHtmlAttrs).forEach(key => { mapResult[key] = declaredHtmlAttrs[key]; });\n  directives.forEach(directiveMeta => {\n    Object.keys(directiveMeta.hostAttributes).forEach(name => {\n      const /** @type {?} */ value = directiveMeta.hostAttributes[name];\n      const /** @type {?} */ prevValue = mapResult[name];\n      mapResult[name] = isPresent(prevValue) ? mergeAttributeValue(name, prevValue, value) : value;\n    });\n  });\n  const /** @type {?} */ arrResult: string[] = [];\n  // Note: We need to sort to get a defined output order\n  // for tests and for caching generated artifacts...\n  Object.keys(mapResult).sort().forEach(\n      (attrName) => { arrResult.push(attrName, mapResult[attrName]); });\n  return arrResult;\n}\n/**\n * @param {?} attrs\n * @return {?}\n */\nfunction _readHtmlAttrs(attrs: AttrAst[]): {[key: string]: string} {\n  const /** @type {?} */ htmlAttrs: {[key: string]: string} = {};\n  attrs.forEach((ast) => { htmlAttrs[ast.name] = ast.value; });\n  return htmlAttrs;\n}\n/**\n * @param {?} attrName\n * @param {?} attrValue1\n * @param {?} attrValue2\n * @return {?}\n */\nfunction mergeAttributeValue(attrName: string, attrValue1: string, attrValue2: string): string {\n  if (attrName == CLASS_ATTR || attrName == STYLE_ATTR) {\n    return `${attrValue1} ${attrValue2}`;\n  } else {\n    return attrValue2;\n  }\n}\n/**\n * @param {?} view\n * @param {?} targetStatements\n * @return {?}\n */\nfunction createViewTopLevelStmts(view: CompileView, targetStatements: o.Statement[]) {\n  let /** @type {?} */ nodeDebugInfosVar: o.Expression = o.NULL_EXPR;\n  if (view.genConfig.genDebugInfo) {\n    nodeDebugInfosVar = o.variable(\n        `nodeDebugInfos_${identifierName(view.component.type)}${view.viewIndex}`);  // fix\n                                                                                    // highlighting:\n                                                                                    // `\n    targetStatements.push(\n        ( /** @type {?} */((<o.ReadVarExpr>nodeDebugInfosVar)))\n            .set(o.literalArr(\n                view.nodes.map(createStaticNodeDebugInfo),\n                new o.ArrayType(\n                    o.importType(createIdentifier(Identifiers.StaticNodeDebugInfo)),\n                    [o.TypeModifier.Const])))\n            .toDeclStmt(null, [o.StmtModifier.Final]));\n  }\n\n\n  const /** @type {?} */ renderCompTypeVar: o.ReadVarExpr =\n      o.variable(`renderType_${identifierName(view.component.type)}`);  // fix highlighting: `\n  if (view.viewIndex === 0) {\n    let /** @type {?} */ templateUrlInfo: string;\n    if (view.component.template.templateUrl == identifierModuleUrl(view.component.type)) {\n      templateUrlInfo =\n          `${identifierModuleUrl(view.component.type)} class ${identifierName(view.component.type)} - inline template`;\n    } else {\n      templateUrlInfo = view.component.template.templateUrl;\n    }\n    targetStatements.push(\n        renderCompTypeVar\n            .set(o.importExpr(createIdentifier(Identifiers.createRenderComponentType)).callFn([\n              view.genConfig.genDebugInfo ? o.literal(templateUrlInfo) : o.literal(''),\n              o.literal(view.component.template.ngContentSelectors.length),\n              ViewEncapsulationEnum.fromValue(view.component.template.encapsulation),\n              view.styles,\n              o.literalMap(view.animations.map(\n                  (entry): [string, o.Expression] => [entry.name, entry.fnExp])),\n            ]))\n            .toDeclStmt(o.importType(createIdentifier(Identifiers.RenderComponentType))));\n  }\n\n  const /** @type {?} */ viewClass = createViewClass(view, renderCompTypeVar, nodeDebugInfosVar);\n  targetStatements.push(viewClass);\n}\n/**\n * @param {?} node\n * @return {?}\n */\nfunction createStaticNodeDebugInfo(node: CompileNode): o.Expression {\n  const /** @type {?} */ compileElement = node instanceof CompileElement ? node : null;\n  let /** @type {?} */ providerTokens: o.Expression[] = [];\n  let /** @type {?} */ componentToken: o.Expression = o.NULL_EXPR;\n  const /** @type {?} */ varTokenEntries: any[] = [];\n  if (isPresent(compileElement)) {\n    providerTokens = compileElement.getProviderTokens();\n    if (isPresent(compileElement.component)) {\n      componentToken = createDiTokenExpression(identifierToken(compileElement.component.type));\n    }\n    Object.keys(compileElement.referenceTokens).forEach(varName => {\n      const /** @type {?} */ token = compileElement.referenceTokens[varName];\n      varTokenEntries.push(\n          [varName, isPresent(token) ? createDiTokenExpression(token) : o.NULL_EXPR]);\n    });\n  }\n  return o.importExpr(createIdentifier(Identifiers.StaticNodeDebugInfo))\n      .instantiate(\n          [\n            o.literalArr(providerTokens, new o.ArrayType(o.DYNAMIC_TYPE, [o.TypeModifier.Const])),\n            componentToken,\n            o.literalMap(varTokenEntries, new o.MapType(o.DYNAMIC_TYPE, [o.TypeModifier.Const]))\n          ],\n          o.importType(\n              createIdentifier(Identifiers.StaticNodeDebugInfo), null, [o.TypeModifier.Const]));\n}\n/**\n * @param {?} view\n * @param {?} renderCompTypeVar\n * @param {?} nodeDebugInfosVar\n * @return {?}\n */\nfunction createViewClass(\n    view: CompileView, renderCompTypeVar: o.ReadVarExpr,\n    nodeDebugInfosVar: o.Expression): o.ClassStmt {\n  const /** @type {?} */ viewConstructorArgs = [\n    new o.FnParam(\n        ViewConstructorVars.viewUtils.name, o.importType(createIdentifier(Identifiers.ViewUtils))),\n    new o.FnParam(\n        ViewConstructorVars.parentView.name,\n        o.importType(createIdentifier(Identifiers.AppView), [o.DYNAMIC_TYPE])),\n    new o.FnParam(ViewConstructorVars.parentIndex.name, o.NUMBER_TYPE),\n    new o.FnParam(ViewConstructorVars.parentElement.name, o.DYNAMIC_TYPE)\n  ];\n  const /** @type {?} */ superConstructorArgs = [\n    o.variable(view.className), renderCompTypeVar, ViewTypeEnum.fromValue(view.viewType),\n    ViewConstructorVars.viewUtils, ViewConstructorVars.parentView, ViewConstructorVars.parentIndex,\n    ViewConstructorVars.parentElement,\n    ChangeDetectorStatusEnum.fromValue(getChangeDetectionMode(view))\n  ];\n  if (view.genConfig.genDebugInfo) {\n    superConstructorArgs.push(nodeDebugInfosVar);\n  }\n  if (view.viewType === ViewType.EMBEDDED) {\n    viewConstructorArgs.push(new o.FnParam(\n        'declaredViewContainer', o.importType(createIdentifier(Identifiers.ViewContainer))));\n    superConstructorArgs.push(o.variable('declaredViewContainer'));\n  }\n  const /** @type {?} */ viewMethods = [\n    new o.ClassMethod(\n        'createInternal', [new o.FnParam(rootSelectorVar.name, o.STRING_TYPE)],\n        generateCreateMethod(view),\n        o.importType(createIdentifier(Identifiers.ComponentRef), [o.DYNAMIC_TYPE])),\n    new o.ClassMethod(\n        'injectorGetInternal',\n        [\n          new o.FnParam(InjectMethodVars.token.name, o.DYNAMIC_TYPE),\n          // Note: Can't use o.INT_TYPE here as the method in AppView uses number\n          new o.FnParam(InjectMethodVars.requestNodeIndex.name, o.NUMBER_TYPE),\n          new o.FnParam(InjectMethodVars.notFoundResult.name, o.DYNAMIC_TYPE)\n        ],\n        addReturnValuefNotEmpty(view.injectorGetMethod.finish(), InjectMethodVars.notFoundResult),\n        o.DYNAMIC_TYPE),\n    new o.ClassMethod(\n        'detectChangesInternal', [new o.FnParam(DetectChangesVars.throwOnChange.name, o.BOOL_TYPE)],\n        generateDetectChangesMethod(view)),\n    new o.ClassMethod('dirtyParentQueriesInternal', [], view.dirtyParentQueriesMethod.finish()),\n    new o.ClassMethod('destroyInternal', [], generateDestroyMethod(view)),\n    new o.ClassMethod('detachInternal', [], view.detachMethod.finish()),\n    generateVisitRootNodesMethod(view), generateVisitProjectableNodesMethod(view),\n    generateCreateEmbeddedViewsMethod(view)\n  ].filter((method) => method.body.length > 0);\n  const /** @type {?} */ superClass = view.genConfig.genDebugInfo ? Identifiers.DebugAppView : Identifiers.AppView;\n\n  const /** @type {?} */ viewClass = createClassStmt({\n    name: view.className,\n    parent: o.importExpr(createIdentifier(superClass), [getContextType(view)]),\n    parentArgs: superConstructorArgs,\n    ctorParams: viewConstructorArgs,\n    builders: [{methods: viewMethods}, view]\n  });\n  return viewClass;\n}\n/**\n * @param {?} view\n * @return {?}\n */\nfunction generateDestroyMethod(view: CompileView): o.Statement[] {\n  const /** @type {?} */ stmts: o.Statement[] = [];\n  view.viewContainers.forEach((viewContainer) => {\n    stmts.push(viewContainer.callMethod('destroyNestedViews', []).toStmt());\n  });\n  view.viewChildren.forEach(\n      (viewChild) => { stmts.push(viewChild.callMethod('destroy', []).toStmt()); });\n  stmts.push(...view.destroyMethod.finish());\n  return stmts;\n}\n/**\n * @param {?} view\n * @return {?}\n */\nfunction generateCreateMethod(view: CompileView): o.Statement[] {\n  let /** @type {?} */ parentRenderNodeExpr: o.Expression = o.NULL_EXPR;\n  let /** @type {?} */ parentRenderNodeStmts: any[] = [];\n  if (view.viewType === ViewType.COMPONENT) {\n    parentRenderNodeExpr =\n        ViewProperties.renderer.callMethod('createViewRoot', [o.THIS_EXPR.prop('parentElement')]);\n    parentRenderNodeStmts =\n        [parentRenderNodeVar.set(parentRenderNodeExpr)\n             .toDeclStmt(\n                 o.importType(view.genConfig.renderTypes.renderNode), [o.StmtModifier.Final])];\n  }\n  let /** @type {?} */ resultExpr: o.Expression;\n  if (view.viewType === ViewType.HOST) {\n    const /** @type {?} */ hostEl = /** @type {?} */(( <CompileElement>view.nodes[0]));\n    resultExpr =\n        o.importExpr(createIdentifier(Identifiers.ComponentRef_), [o.DYNAMIC_TYPE]).instantiate([\n          o.literal(hostEl.nodeIndex), o.THIS_EXPR, hostEl.renderNode, hostEl.getComponent()\n        ]);\n  } else {\n    resultExpr = o.NULL_EXPR;\n  }\n  const /** @type {?} */ allNodesExpr: o.Expression =\n      ViewProperties.renderer.cast(o.DYNAMIC_TYPE)\n          .prop('directRenderer')\n          .conditional(o.NULL_EXPR, o.literalArr(view.nodes.map(node => node.renderNode)));\n\n  return parentRenderNodeStmts.concat(view.createMethod.finish(), [\n    o.THIS_EXPR\n        .callMethod(\n            'init',\n            [\n              view.lastRenderNode,\n              allNodesExpr,\n              view.disposables.length ? o.literalArr(view.disposables) : o.NULL_EXPR,\n            ])\n        .toStmt(),\n    new o.ReturnStatement(resultExpr)\n  ]);\n}\n/**\n * @param {?} view\n * @return {?}\n */\nfunction generateDetectChangesMethod(view: CompileView): o.Statement[] {\n  const /** @type {?} */ stmts: any[] = [];\n  if (view.animationBindingsMethod.isEmpty() && view.detectChangesInInputsMethod.isEmpty() &&\n      view.updateContentQueriesMethod.isEmpty() &&\n      view.afterContentLifecycleCallbacksMethod.isEmpty() &&\n      view.detectChangesRenderPropertiesMethod.isEmpty() &&\n      view.updateViewQueriesMethod.isEmpty() && view.afterViewLifecycleCallbacksMethod.isEmpty() &&\n      view.viewContainers.length === 0 && view.viewChildren.length === 0) {\n    return stmts;\n  }\n  stmts.push(...view.animationBindingsMethod.finish());\n  stmts.push(...view.detectChangesInInputsMethod.finish());\n  view.viewContainers.forEach((viewContainer) => {\n    stmts.push(\n        viewContainer.callMethod('detectChangesInNestedViews', [DetectChangesVars.throwOnChange])\n            .toStmt());\n  });\n  const /** @type {?} */ afterContentStmts = view.updateContentQueriesMethod.finish().concat(\n      view.afterContentLifecycleCallbacksMethod.finish());\n  if (afterContentStmts.length > 0) {\n    stmts.push(new o.IfStmt(o.not(DetectChangesVars.throwOnChange), afterContentStmts));\n  }\n  stmts.push(...view.detectChangesRenderPropertiesMethod.finish());\n  view.viewChildren.forEach((viewChild) => {\n    stmts.push(\n        viewChild.callMethod('internalDetectChanges', [DetectChangesVars.throwOnChange]).toStmt());\n  });\n  const /** @type {?} */ afterViewStmts =\n      view.updateViewQueriesMethod.finish().concat(view.afterViewLifecycleCallbacksMethod.finish());\n  if (afterViewStmts.length > 0) {\n    stmts.push(new o.IfStmt(o.not(DetectChangesVars.throwOnChange), afterViewStmts));\n  }\n\n  const /** @type {?} */ varStmts: any[] = [];\n  const /** @type {?} */ readVars = o.findReadVarNames(stmts);\n  if (readVars.has(DetectChangesVars.changed.name)) {\n    varStmts.push(DetectChangesVars.changed.set(o.literal(true)).toDeclStmt(o.BOOL_TYPE));\n  }\n  if (readVars.has(DetectChangesVars.changes.name)) {\n    varStmts.push(\n        DetectChangesVars.changes.set(o.NULL_EXPR)\n            .toDeclStmt(new o.MapType(o.importType(createIdentifier(Identifiers.SimpleChange)))));\n  }\n  varStmts.push(...createSharedBindingVariablesIfNeeded(stmts));\n  return varStmts.concat(stmts);\n}\n/**\n * @param {?} statements\n * @param {?} value\n * @return {?}\n */\nfunction addReturnValuefNotEmpty(statements: o.Statement[], value: o.Expression): o.Statement[] {\n  if (statements.length > 0) {\n    return statements.concat([new o.ReturnStatement(value)]);\n  } else {\n    return statements;\n  }\n}\n/**\n * @param {?} view\n * @return {?}\n */\nfunction getContextType(view: CompileView): o.Type {\n  if (view.viewType === ViewType.COMPONENT) {\n    return o.importType(view.component.type);\n  }\n  return o.DYNAMIC_TYPE;\n}\n/**\n * @param {?} view\n * @return {?}\n */\nfunction getChangeDetectionMode(view: CompileView): ChangeDetectorStatus {\n  let /** @type {?} */ mode: ChangeDetectorStatus;\n  if (view.viewType === ViewType.COMPONENT) {\n    mode = isDefaultChangeDetectionStrategy(view.component.changeDetection) ?\n        ChangeDetectorStatus.CheckAlways :\n        ChangeDetectorStatus.CheckOnce;\n  } else {\n    mode = ChangeDetectorStatus.CheckAlways;\n  }\n  return mode;\n}\n/**\n * @param {?} view\n * @return {?}\n */\nfunction generateVisitRootNodesMethod(view: CompileView): o.ClassMethod {\n  const /** @type {?} */ cbVar = o.variable('cb');\n  const /** @type {?} */ ctxVar = o.variable('ctx');\n  const /** @type {?} */ stmts: o.Statement[] = generateVisitNodesStmts(view.rootNodes, cbVar, ctxVar);\n  return new o.ClassMethod(\n      'visitRootNodesInternal',\n      [new o.FnParam(cbVar.name, o.DYNAMIC_TYPE), new o.FnParam(ctxVar.name, o.DYNAMIC_TYPE)],\n      stmts);\n}\n/**\n * @param {?} view\n * @return {?}\n */\nfunction generateVisitProjectableNodesMethod(view: CompileView): o.ClassMethod {\n  const /** @type {?} */ nodeIndexVar = o.variable('nodeIndex');\n  const /** @type {?} */ ngContentIndexVar = o.variable('ngContentIndex');\n  const /** @type {?} */ cbVar = o.variable('cb');\n  const /** @type {?} */ ctxVar = o.variable('ctx');\n  const /** @type {?} */ stmts: o.Statement[] = [];\n  view.nodes.forEach((node) => {\n    if (node instanceof CompileElement && node.component) {\n      node.contentNodesByNgContentIndex.forEach((projectedNodes, ngContentIndex) => {\n        stmts.push(new o.IfStmt(\n            nodeIndexVar.equals(o.literal(node.nodeIndex))\n                .and(ngContentIndexVar.equals(o.literal(ngContentIndex))),\n            generateVisitNodesStmts(projectedNodes, cbVar, ctxVar)));\n      });\n    }\n  });\n  return new o.ClassMethod(\n      'visitProjectableNodesInternal',\n      [\n        new o.FnParam(nodeIndexVar.name, o.NUMBER_TYPE),\n        new o.FnParam(ngContentIndexVar.name, o.NUMBER_TYPE),\n        new o.FnParam(cbVar.name, o.DYNAMIC_TYPE), new o.FnParam(ctxVar.name, o.DYNAMIC_TYPE)\n      ],\n      stmts);\n}\n/**\n * @param {?} nodes\n * @param {?} cb\n * @param {?} ctx\n * @return {?}\n */\nfunction generateVisitNodesStmts(\n    nodes: CompileViewRootNode[], cb: o.Expression, ctx: o.Expression): o.Statement[] {\n  const /** @type {?} */ stmts: o.Statement[] = [];\n  nodes.forEach((node) => {\n    switch (node.type) {\n      case CompileViewRootNodeType.Node:\n        stmts.push(cb.callFn([node.expr, ctx]).toStmt());\n        break;\n      case CompileViewRootNodeType.ViewContainer:\n        stmts.push(cb.callFn([node.expr.prop('nativeElement'), ctx]).toStmt());\n        stmts.push(node.expr.callMethod('visitNestedViewRootNodes', [cb, ctx]).toStmt());\n        break;\n      case CompileViewRootNodeType.NgContent:\n        stmts.push(\n            o.THIS_EXPR.callMethod('visitProjectedNodes', [o.literal(node.ngContentIndex), cb, ctx])\n                .toStmt());\n        break;\n    }\n  });\n  return stmts;\n}\n/**\n * @param {?} view\n * @return {?}\n */\nfunction generateCreateEmbeddedViewsMethod(view: CompileView): o.ClassMethod {\n  const /** @type {?} */ nodeIndexVar = o.variable('nodeIndex');\n  const /** @type {?} */ stmts: o.Statement[] = [];\n  view.nodes.forEach((node) => {\n    if (node instanceof CompileElement) {\n      if (node.embeddedView) {\n        const /** @type {?} */ parentNodeIndex = node.isRootElement() ? null : node.parent.nodeIndex;\n        stmts.push(new o.IfStmt(\n            nodeIndexVar.equals(o.literal(node.nodeIndex)),\n            [new o.ReturnStatement(node.embeddedView.classExpr.instantiate([\n              ViewProperties.viewUtils, o.THIS_EXPR, o.literal(node.nodeIndex), node.renderNode,\n              node.viewContainer\n            ]))]));\n      }\n    }\n  });\n  if (stmts.length > 0) {\n    stmts.push(new o.ReturnStatement(o.NULL_EXPR));\n  }\n  return new o.ClassMethod(\n      'createEmbeddedViewInternal', [new o.FnParam(nodeIndexVar.name, o.NUMBER_TYPE)], stmts,\n      o.importType(createIdentifier(Identifiers.AppView), [o.DYNAMIC_TYPE]));\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}